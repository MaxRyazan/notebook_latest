import{u as v,G as be,r as O,H as Oe,I as z,J as U,K,L as Re,f as h,M as xe,N as Ve,O as k,P as J,Q,e as je,n as X,o as _e,c as Pe,q as C,w as Ee,j as Ce,v as ze,_ as Ae}from"./index-ac489913.js";function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Y(Object(t),!0).forEach(function(r){Se(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Se(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function T(e){return typeof e=="function"}function q(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function D(e){return T(e.$validator)?A({},e):{$validator:e}}function oe(e){return typeof e=="object"?e.$valid:e}function ie(e){return e.$validator||e}function Le(e,n){if(!q(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!q(n)&&!T(n))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=D(n);return t.$params=A(A({},t.$params||{}),e),t}function Ie(e,n){if(!T(e)&&typeof v(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!q(n)&&!T(n))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=D(n);return t.$message=e,t}function Te(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t=D(e);return A(A({},t),{},{$async:!0,$watchTargets:n})}function Fe(e){return{$validator(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return v(n).reduce((i,g,d)=>{const $=Object.entries(g).reduce((o,c)=>{let[l,p]=c;const m=e[l]||{},a=Object.entries(m).reduce((u,f)=>{let[w,E]=f;const b=ie(E).call(this,p,g,d,...r),_=oe(b);if(u.$data[w]=b,u.$data.$invalid=!_||!!u.$data.$invalid,u.$data.$error=u.$data.$invalid,!_){let R=E.$message||"";const S=E.$params||{};typeof R=="function"&&(R=R({$pending:!1,$invalid:!_,$params:S,$model:p,$response:b})),u.$errors.push({$property:l,$message:R,$params:S,$response:b,$model:p,$pending:!1,$validator:w})}return{$valid:u.$valid&&_,$data:u.$data,$errors:u.$errors}},{$valid:!0,$data:{},$errors:[]});return o.$data[l]=a.$data,o.$errors[l]=a.$errors,{$valid:o.$valid&&a.$valid,$data:o.$data,$errors:o.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:i.$valid&&$.$valid,$data:i.$data.concat($.$data),$errors:i.$errors.concat($.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:n=>{let{$response:t}=n;return t?t.$errors.map(r=>Object.values(r).map(s=>s.map(i=>i.$message)).reduce((s,i)=>s.concat(i),[])):[]}}}const ue=e=>{if(e=v(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let n in e)return!0;return!1}return!!String(e).length},De=e=>(e=v(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function j(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return r=>(r=v(r),!ue(r)||n.every(s=>(s.lastIndex=0,s.test(r))))}var L=Object.freeze({__proto__:null,forEach:Fe,len:De,normalizeValidatorObject:D,regex:j,req:ue,unwrap:v,unwrapNormalizedValidator:ie,unwrapValidatorResponse:oe,withAsync:Te,withMessage:Ie,withParams:Le});j(/^[a-zA-Z]*$/);j(/^[a-zA-Z0-9]*$/);j(/^\d*(\.\d+)?$/);const Ne=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;j(Ne);const Me=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;j(Me);j(/(^[0-9]*$)|(^-[0-9]+$)/);j(/^[-]?\d*(\.\d+)?$/);function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function V(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ee(Object(t),!0).forEach(function(r){We(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function We(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function te(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=v(e[r])),t),{})}function F(e){return typeof e=="function"}function Ge(e){return xe(e)||Ve(e)}function le(e,n,t){let r=e;const s=n.split(".");for(let i=0;i<s.length;i++){if(!r[s[i]])return t;r=r[s[i]]}return r}function B(e,n,t){return h(()=>e.some(r=>le(n,r,{[t]:!1})[t]))}function re(e,n,t){return h(()=>e.reduce((r,s)=>{const i=le(n,s,{[t]:!1})[t]||[];return r.concat(i)},[]))}function ce(e,n,t,r){return e.call(r,v(n),v(t),r)}function de(e){return e.$valid!==void 0?!e.$valid:!e}function Be(e,n,t,r,s,i,g){let{$lazy:d,$rewardEarly:$}=s,o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0;const m=O(!!r.value),a=O(0);t.value=!1;const u=z([n,r].concat(o,p),()=>{if(d&&!r.value||$&&!l.value&&!t.value)return;let f;try{f=ce(e,n,c,g)}catch(w){f=Promise.reject(w)}a.value++,t.value=!!a.value,m.value=!1,Promise.resolve(f).then(w=>{a.value--,t.value=!!a.value,i.value=w,m.value=de(w)}).catch(w=>{a.value--,t.value=!!a.value,i.value=w,m.value=!0})},{immediate:!0,deep:typeof n=="object"});return{$invalid:m,$unwatch:u}}function Ue(e,n,t,r,s,i,g,d){let{$lazy:$,$rewardEarly:o}=r;const c=()=>({}),l=h(()=>{if($&&!t.value||o&&!d.value)return!1;let p=!0;try{const m=ce(e,n,g,i);s.value=m,p=de(m)}catch(m){s.value=m}return p});return{$unwatch:c,$invalid:l}}function qe(e,n,t,r,s,i,g,d,$,o,c){const l=O(!1),p=e.$params||{},m=O(null);let a,u;e.$async?{$invalid:a,$unwatch:u}=Be(e.$validator,n,l,t,r,m,s,e.$watchTargets,$,o,c):{$invalid:a,$unwatch:u}=Ue(e.$validator,n,t,r,m,s,$,o);const f=e.$message;return{$message:F(f)?h(()=>f(te({$pending:l,$invalid:a,$params:te(p),$model:n,$response:m,$validator:i,$propertyPath:d,$property:g}))):f||"",$params:p,$pending:l,$invalid:a,$response:m,$unwatch:u}}function He(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=v(e),t=Object.keys(n),r={},s={},i={};let g=null;return t.forEach(d=>{const $=n[d];switch(!0){case F($.$validator):r[d]=$;break;case F($):r[d]={$validator:$};break;case d==="$validationGroups":g=$;break;case d.startsWith("$"):i[d]=$;break;default:s[d]=$}}),{rules:r,nestedValidators:s,config:i,validationGroups:g}}const Ke="__root";function Ze(e,n,t,r,s,i,g,d,$){const o=Object.keys(e),c=r.get(s,e),l=O(!1),p=O(!1),m=O(0);if(c){if(!c.$partial)return c;c.$unwatch(),l.value=c.$dirty.value}const a={$dirty:l,$path:s,$touch:()=>{l.value||(l.value=!0)},$reset:()=>{l.value&&(l.value=!1)},$commit:()=>{}};return o.length?(o.forEach(u=>{a[u]=qe(e[u],n,a.$dirty,i,g,u,t,s,$,p,m)}),a.$externalResults=h(()=>d.value?[].concat(d.value).map((u,f)=>({$propertyPath:s,$property:t,$validator:"$externalResults",$uid:`${s}-externalResult-${f}`,$message:u,$params:{},$response:null,$pending:!1})):[]),a.$invalid=h(()=>{const u=o.some(f=>v(a[f].$invalid));return p.value=u,!!a.$externalResults.value.length||u}),a.$pending=h(()=>o.some(u=>v(a[u].$pending))),a.$error=h(()=>a.$dirty.value?a.$pending.value||a.$invalid.value:!1),a.$silentErrors=h(()=>o.filter(u=>v(a[u].$invalid)).map(u=>{const f=a[u];return K({$propertyPath:s,$property:t,$validator:u,$uid:`${s}-${u}`,$message:f.$message,$params:f.$params,$response:f.$response,$pending:f.$pending})}).concat(a.$externalResults.value)),a.$errors=h(()=>a.$dirty.value?a.$silentErrors.value:[]),a.$unwatch=()=>o.forEach(u=>{a[u].$unwatch()}),a.$commit=()=>{p.value=!0,m.value=Date.now()},r.set(s,e,a),a):(c&&r.set(s,e,a),a)}function ke(e,n,t,r,s,i,g){const d=Object.keys(e);return d.length?d.reduce(($,o)=>($[o]=H({validations:e[o],state:n,key:o,parentKey:t,resultsCache:r,globalConfig:s,instance:i,externalResults:g}),$),{}):{}}function Je(e,n,t){const r=h(()=>[n,t].filter(a=>a).reduce((a,u)=>a.concat(Object.values(v(u))),[])),s=h({get(){return e.$dirty.value||(r.value.length?r.value.every(a=>a.$dirty):!1)},set(a){e.$dirty.value=a}}),i=h(()=>{const a=v(e.$silentErrors)||[],u=r.value.filter(f=>(v(f).$silentErrors||[]).length).reduce((f,w)=>f.concat(...w.$silentErrors),[]);return a.concat(u)}),g=h(()=>{const a=v(e.$errors)||[],u=r.value.filter(f=>(v(f).$errors||[]).length).reduce((f,w)=>f.concat(...w.$errors),[]);return a.concat(u)}),d=h(()=>r.value.some(a=>a.$invalid)||v(e.$invalid)||!1),$=h(()=>r.value.some(a=>v(a.$pending))||v(e.$pending)||!1),o=h(()=>r.value.some(a=>a.$dirty)||r.value.some(a=>a.$anyDirty)||s.value),c=h(()=>s.value?$.value||d.value:!1),l=()=>{e.$touch(),r.value.forEach(a=>{a.$touch()})},p=()=>{e.$commit(),r.value.forEach(a=>{a.$commit()})},m=()=>{e.$reset(),r.value.forEach(a=>{a.$reset()})};return r.value.length&&r.value.every(a=>a.$dirty)&&l(),{$dirty:s,$errors:g,$invalid:d,$anyDirty:o,$error:c,$pending:$,$touch:l,$reset:m,$silentErrors:i,$commit:p}}function H(e){let{validations:n,state:t,key:r,parentKey:s,childResults:i,resultsCache:g,globalConfig:d={},instance:$,externalResults:o}=e;const c=s?`${s}.${r}`:r,{rules:l,nestedValidators:p,config:m,validationGroups:a}=He(n),u=V(V({},d),m),f=r?h(()=>{const y=v(t);return y?v(y[r]):void 0}):t,w=V({},v(o)||{}),E=h(()=>{const y=v(o);return r?y?v(y[r]):void 0:y}),N=Ze(l,f,r,g,c,u,$,E,t),b=ke(p,f,c,g,u,$,E),_={};a&&Object.entries(a).forEach(y=>{let[P,x]=y;_[P]={$invalid:B(x,b,"$invalid"),$error:B(x,b,"$error"),$pending:B(x,b,"$pending"),$errors:re(x,b,"$errors"),$silentErrors:re(x,b,"$silentErrors")}});const{$dirty:R,$errors:S,$invalid:M,$anyDirty:$e,$error:ve,$pending:W,$touch:G,$reset:me,$silentErrors:pe,$commit:Z}=Je(N,b,i),ge=r?h({get:()=>v(f),set:y=>{R.value=!0;const P=v(t),x=v(o);x&&(x[r]=w[r]),U(P[r])?P[r].value=y:P[r]=y}}):null;r&&u.$autoDirty&&z(f,()=>{R.value||G();const y=v(o);y&&(y[r]=w[r])},{flush:"sync"});async function he(){return G(),u.$rewardEarly&&(Z(),await Q()),await Q(),new Promise(y=>{if(!W.value)return y(!M.value);const P=z(W,()=>{y(!M.value),P()})})}function we(y){return(i.value||{})[y]}function ye(){U(o)?o.value=w:Object.keys(w).length===0?Object.keys(o).forEach(y=>{delete o[y]}):Object.assign(o,w)}return K(V(V(V({},N),{},{$model:ge,$dirty:R,$error:ve,$errors:S,$invalid:M,$anyDirty:$e,$pending:W,$touch:G,$reset:me,$path:c||Ke,$silentErrors:pe,$validate:he,$commit:Z},i&&{$getResultsForChild:we,$clearExternalResults:ye,$validationGroups:_}),b))}class Qe{constructor(){this.storage=new Map}set(n,t,r){this.storage.set(n,{rules:t,result:r})}checkRulesValidity(n,t,r){const s=Object.keys(r),i=Object.keys(t);return i.length!==s.length||!i.every(d=>s.includes(d))?!1:i.every(d=>t[d].$params?Object.keys(t[d].$params).every($=>v(r[d].$params[$])===v(t[d].$params[$])):!0)}get(n,t){const r=this.storage.get(n);if(!r)return;const{rules:s,result:i}=r,g=this.checkRulesValidity(n,t,s),d=i.$unwatch?i.$unwatch:()=>({});return g?i:{$dirty:i.$dirty,$partial:!0,$unwatch:d}}}const I={COLLECT_ALL:!0,COLLECT_NONE:!1},ne=Symbol("vuelidate#injectChildResults"),ae=Symbol("vuelidate#removeChildResults");function Xe(e){let{$scope:n,instance:t}=e;const r={},s=O([]),i=h(()=>s.value.reduce((c,l)=>(c[l]=v(r[l]),c),{}));function g(c,l){let{$registerAs:p,$scope:m,$stopPropagation:a}=l;a||n===I.COLLECT_NONE||m===I.COLLECT_NONE||n!==I.COLLECT_ALL&&n!==m||(r[p]=c,s.value.push(p))}t.__vuelidateInjectInstances=[].concat(t.__vuelidateInjectInstances||[],g);function d(c){s.value=s.value.filter(l=>l!==c),delete r[c]}t.__vuelidateRemoveInstances=[].concat(t.__vuelidateRemoveInstances||[],d);const $=k(ne,[]);J(ne,t.__vuelidateInjectInstances);const o=k(ae,[]);return J(ae,t.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:$,removeValidationResultsFromParent:o}}function fe(e){return new Proxy(e,{get(n,t){return typeof n[t]=="object"?fe(n[t]):h(()=>n[t])}})}let se=0;function Ye(e,n){var t;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(r=e,e=void 0,n=void 0);let{$registerAs:s,$scope:i=I.COLLECT_ALL,$stopPropagation:g,$externalResults:d,currentVueInstance:$}=r;const o=$||((t=be())===null||t===void 0?void 0:t.proxy),c=o?o.$options:{};s||(se+=1,s=`_vuelidate_${se}`);const l=O({}),p=new Qe,{childResults:m,sendValidationResultsToParent:a,removeValidationResultsFromParent:u}=o?Xe({$scope:i,instance:o}):{childResults:O({})};if(!e&&c.validations){const f=c.validations;n=O({}),Oe(()=>{n.value=o,z(()=>F(f)?f.call(n.value,new fe(n.value)):f,w=>{l.value=H({validations:w,state:n,childResults:m,resultsCache:p,globalConfig:r,instance:o,externalResults:d||o.vuelidateExternalResults})},{immediate:!0})}),r=c.validationsConfig||r}else{const f=U(e)||Ge(e)?e:K(e||{});z(f,w=>{l.value=H({validations:w,state:n,childResults:m,resultsCache:p,globalConfig:r,instance:o??{},externalResults:d})},{immediate:!0})}return o&&(a.forEach(f=>f(l,{$registerAs:s,$scope:i,$stopPropagation:g})),Re(()=>u.forEach(f=>f(s)))),h(()=>V(V({},v(l.value)),m.value))}const et=["onSubmit"],tt=je({__name:"RegistrationComponent",emits:["submitForm"],setup(e,{emit:n}){const t=O({username:"",password:"",confirmPassword:"",secretWord:"",notes:[]});async function r(){await o.value.$validate()&&n("submitForm",t.value)}const s=h(()=>({username:{usernameValidator:L.withMessage("Минимальная длина 3 символа!",i)},password:{passwordValidator:L.withMessage("Минимальная длина 7 символов, без пробелов!",g)},confirmPassword:{confirmPasswordValidator:L.withMessage("Пароли не совпадают!",$)},secretWord:{secretWordValidator:L.withMessage("Минимальная длина 7 символов!",d)}})),i=c=>c.length>2,g=c=>c.length>6&&!c.includes(" "),d=c=>c.length>6,$=c=>c===t.value.password,o=Ye(s,t);return(c,l)=>{const p=X("reusable-input"),m=X("reusable-button");return _e(),Pe("form",{class:"new_data_wrapper",onSubmit:ze(r,["prevent"])},[C(p,{modelValue:t.value.username,"onUpdate:modelValue":l[0]||(l[0]=a=>t.value.username=a),errors:v(o).username.$errors,width:"300px",no_border:"",label:"Введите логин:"},null,8,["modelValue","errors"]),C(p,{modelValue:t.value.password,"onUpdate:modelValue":l[1]||(l[1]=a=>t.value.password=a),errors:v(o).password.$errors,width:"300px","type-password":"",no_border:"",label:"Введите пароль:"},null,8,["modelValue","errors"]),C(p,{modelValue:t.value.confirmPassword,"onUpdate:modelValue":l[2]||(l[2]=a=>t.value.confirmPassword=a),errors:v(o).confirmPassword.$errors,width:"300px","type-password":"",no_border:"",label:"Введите пароль еще раз:"},null,8,["modelValue","errors"]),C(p,{modelValue:t.value.secretWord,"onUpdate:modelValue":l[3]||(l[3]=a=>t.value.secretWord=a),errors:v(o).secretWord.$errors,width:"300px",no_border:"",label:"Введите секретное слово:"},null,8,["modelValue","errors"]),C(m,{width:"250px",round_violet:""},{default:Ee(()=>[Ce("Дальше")]),_:1})],40,et)}}});const nt=Ae(tt,[["__scopeId","data-v-4fdb8097"]]);export{nt as R,L as c,Ye as u};
